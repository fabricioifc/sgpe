<%%- model = <%= singular_table_name.capitalize %> %>

<div class="panel panel-default">
  <div class="panel-heading clearfix">
    <h3 class="panel-title pull-left">
      <%%= t '.title', :default => model.model_name.human.pluralize.titleize %>
    </h3>
    <div class="pull-right">
      <%%= link_to new_<%= singular_table_name %>_path do %>
        <i class="fa fa-plus" aria-hidden="true"></i>
        <%%= t('.new', :default => t("helpers.titles.new", model: model )) %>
      <%% end %>
    </div>
  </div>
  <div class="panel-body">
    <div class="table-responsive">
      <%%= content_tag :table, id: "<%= plural_table_name %>_datatable", class: 'table table-striped table-bordered', role: :datatable, data: { url: <%= plural_table_name %>_path(format: :json)} do %>
        <thead>
          <tr>
            <% attributes.each do |attribute| -%>
            <th><%%= model.human_attribute_name(:<%= attribute.name %>) %></th>
            <% end -%>
            <th><%%= t('helpers.actions') %></th>
          </tr>
        </thead>
        <tbody>
          <%%= content_tag_for(:tr, @<%= plural_table_name %>) do |<%= singular_table_name %>| %>
            <% attributes.each do |attribute| -%>
                <td><%%= <%= singular_table_name %>.<%= attribute.name %> %></td>
            <% end -%>
            <td><%%= link_to 'Show', <%= singular_table_name %> %></td>
            <td><%%= link_to 'Edit', edit_<%= singular_table_name %>_path(<%= singular_table_name %>) %></td>
            <td><%%= link_to 'Destroy', <%= singular_table_name %>, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          <%% end %>
        </tbody>
      <%% end %>
    </div>
  </div>
  <div class="panel-footer clearfix">
    <div class="pull-right">
      <%%= link_to new_<%= singular_table_name %>_path do %>
        <i class="fa fa-plus" aria-hidden="true"></i>
        <%%= t('.new', :default => t("helpers.titles.new", model: model.model_name.human.titleize)) %>
      <%% end %>
    </div>
  </div>
</div>
